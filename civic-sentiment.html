<head>
	<title>Civic Sentiment: tracking public feelings toward politicians </title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>

<body>
{{> navigation_bar}}
{{> jumbotron}}
{{> search}}
{{> main}}
</body>

<template name="navigation_bar">
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar">Teste</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
          		</button>
          		<a class="navbar-brand" href="#"> {{i18n "civicsentiment"}} </a>
          		<a class="navbar-brand" id="language" href="#"> {{i18n "language"}} </a>
        	</div>
      </div>
</div>
</template>

<template name="jumbotron">
<div class="jumbotron" style='height: 210px; background: url({{background_image}}) no-repeat center center;'>
	<div class="container">
		<h1> {{i18n "politicsInRealTime"}} </h1>
		<p> {{i18n "subtitle"}}</p>
	</div>
</div>
</template>

<template name="search">
<div class="container">
<div class="row">
	<div class="row text-center">
		<div class="col-md-6 col-md-offset-3 text-center">
		    <select id="e1" class="selectpicker col-md-12" multiple >
		    		<option value="" disabled selected>{{i18n "selectPolitician"}}</option>
		    		{{#each group}}
		    			<optgroup label={{label}}>
		    				{{#each listOfPoliticians}} <option value=""> {{name}} </option> {{/each}}
		    			</optgroup> 
		    		{{/each}}
    			</select>
		</div>
	</div>
	<div style="height:3px;"></div>
	<div class="row">
		<div class="col-md-8 col-md-offset-2 text-center" style="visibility:{{searchVisibility}}">
			<div class="btn-group btn-md"  data-toggle="buttons">
				<label class="btn btn-primary active">
					<input type="radio" name="options" id="pastMonth" checked> {{i18n "pastMonth"}}
				</label>
				<label class="btn btn-primary">
					<input type="radio" name="options" id="pastWeek" checked> {{i18n "pastWeek"}}
				</label>
				<label class="btn btn-primary">
					<input type="radio" name="options" id="past3Day"> {{i18n "past3Days"}}
				</label>
				<label class="btn btn-primary">
					<input type="radio" name="options" id="pastDay"> {{i18n "pastDay"}}
				</label>
				<label class="btn btn-primary">
					<input type="radio" name="options" id="past8Hour"> {{i18n "past8Hours"}}
				</label>
				<label class="btn btn-primary">
					<input type="radio" name="options" id="past1Hour"> {{i18n "pastHour"}}
				</label>
				<label class="btn btn-primary">
					<input type="radio" name="options" id="past5Min"> {{i18n "past5Min"}}
				</label>
			</div>
		</div>
	</div>
	<br>
</div>
</div>
</template>

<template name="twitter_feed">
	<iframe src="{{iframe_source}}" height="100%" width="100%" frameborder="0" id="{{iframe_id}}" scrolling="no">
	</iframe>
	<script>
		if (!window.WAYIN) {
			window.WAYIN = {hubs: []};}
			window.WAYIN.hubs.push(
				{
					hub_iframe: document.getElementById('{{iframe_id}}'),
					vexpand:true,
					not_use_outer_iframe:false,
					allows_dialogs:true,
					updates_url:false
				});
			(function() {
				if (document.getElementById('wayin-hub-embedd-script')) {
					return;
				} else {
					var script = document.createElement('script');
					script.id = 'wayin-hub-embedd-script';
					script.type = 'text/javascript';
					script.src = '//rjihacks.wayinhub.com/scripts/iframe-onload.js';
					document.body.appendChild( script );
				}
			})();
	</script>		
</template>

<template name="candidate_image">
	<div style="overflow:hidden;height:{{image_height}}">
		<img src="{{candidate_image}}" class="img-responsive img-fit"  style="width=100%;">
	</div>
</template>

<template name="candidate_name">
	<h3 class="text-center" style="{{color}};"> 
		{{name}} <br/>
		{{tweets_count}} {{i18n "tweets"}}
	</h3>
</template>

<template name="close_button">
	<!-- <h5 class="close"> <br/> {{i18n "close"}} </h5>  -->
</template>

<template name="main">
<div class="container">
	<div class="row">
		{{#each list_of_candidates}}
			<div class="row {{isCandidateVisible}}">
				<div class="col-md-3">
					<div class="row">
						<div class="col-md-12">
							<div class="col-md-1 nopadding"></div>
							<div class="col-md-10 nopadding">
								{{> candidate_name}}
							</div>
							<div class="col-md-1 nopadding">
								{{> close_button}}
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>{{> twitter_feed}}</div>
							<!-- <div class="col-md-6 nopadding">{{> candidate_image}}</div> -->
						</div>
					</div>

				</div>
				<div class="col-md-9">
					{{> plot}}
				</div>
			</div>
		{{/each}}
	</div>
</div>
<br>
</template>

<template name="plot">
	<br>
	<div class="row">
		<div class="col-md-12" id="{{plot}}">
		</div>
	</div>
</template>